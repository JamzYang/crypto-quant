# 环境搭建

---

## 整体设计思路（“为路线图服务”的依赖）

这些依赖的思路是：

- **先学“数据 + 可视化”** → 养成用代码观察行情、验证想法的习惯  
- **再学“交易所 API + 技术指标”** → 能拉真实数据、写简单策略  
- **然后到“回测框架”** → 能系统地评估策略  
- **最后扩展到“机器学习/因子模型”等进阶内容**

[requirements.txt](cci:7://file:///c:/develop/learnspace/crypto-quant/requirements.txt:0:0-0:0) 中启用的是**必备基础 + 交易所 + 技术指标**，  
而回测、数据源扩展、机器学习这些是**后期才会用到的，先写成注释**，对应路线图的后续阶段。

---

## 核心数据处理

- **`numpy>=1.24.0`**
  - **用途**：高性能数值计算，向量化运算（如价格数组、收益率数组、移动窗口等）
  - **为什么要用**：
    - 几乎所有量化/科学计算库的底层都依赖 `numpy`
    - 用 `numpy` 处理数据，速度比纯 Python 的 `for` 循环快一个数量级
  - **在学习路线中的位置**：  
    - 初级阶段：理解`ndarray`、向量化、广播等，为因子计算、指标计算打基础

- **`pandas>=2.0.0`**
  - **用途**：表格数据和时间序列数据处理（K线、逐笔成交、因子表等）
  - **为什么要用**：
    - 量化里几乎所有数据都可以抽象成 `DataFrame`（日期 × 字段）
    - 对齐、重采样、滚动窗口、缺失值处理、分组统计等操作非常方便
  - **在学习路线中的位置**：  
    - 初级阶段：学会用 `DataFrame` 管理行情数据  
    - 中级阶段：构建因子、聚合多品种数据、对齐多源数据

---

## 数据可视化

- **`matplotlib>=3.7.0`**
  - **用途**：底层绘图库，折线图、K线图、回测净值曲线等
  - **为什么要用**：
    - 是 Python 可视化的“基石”，很多高级库都基于它
    - 可以高度自定义图形（子图、坐标轴、标注等）
  - **在学习路线中的位置**：  
    - 早期就需要：画价格走势、盈亏曲线、指标线

- **`seaborn>=0.12.0`**
  - **用途**：基于 `matplotlib` 的高级可视化库，适合做统计图、分布图、相关性热力图
  - **为什么要用**：
    - 更容易做出“好看且信息量大”的图（分布、箱线图、pairplot 等）
    - 辅助你做策略效果分析，比如收益分布、回撤分布、因子与收益的关系
  - **在学习路线中的位置**：  
    - 在“策略评估/统计分析”章节会频繁用到，用图来理解策略特性

---

## 交互式开发环境

- **`jupyter>=1.0.0`**
  - **用途**：Notebook 环境，把代码、文字说明、图表放在一起
  - **为什么要用**：
    - 非常适合“研究型”工作：一边试代码，一边记录思路和结论
    - 对于学习路线图里的每一小节，都可以用一个 Notebook 实战练习
  - **在学习路线中的位置**：  
    - 贯穿始终：从数据探索、策略原型，到结果展示，全部可以在 Notebook 里完成

- **`ipython>=8.0.0`**
  - **用途**：增强版 Python 交互解释器，支持自动补全、魔法命令等
  - **为什么要用**：
    - 在 Notebook 内核、终端实验时都很方便
    - 例如 `%timeit` 测试代码运行时间、`%matplotlib inline` 控制图像显示等
  - **在学习路线中的位置**：  
    - 辅助工具，贯穿全程，提高交互体验和调试效率

---

## 交易所 API

- **`ccxt>=4.0.0`**
  - **用途**：统一封装了上百家交易所的 REST/WebSocket API
  - **为什么要用**：
    - 一套代码可以对接多个交易所（Binance、OKX 等），减少重复学习各家 API
    - 可以获取行情、下单、查询账户余额等，是“真正连接到交易所”的关键组件
  - **在学习路线中的位置**：  
    - 在路线图中“实盘接口/交易所 API”阶段使用  
    - 可用于拉历史 K 线做回测，也可用于简单实盘测试（注意风控）

---

## 技术指标库

- **`ta-lib>=0.4.0`**（需要先安装 TA-Lib C 库）
  - **用途**：C 实现的技术指标库，包含 MA、MACD、RSI、布林带等各种常见指标
  - **为什么要用**：
    - 性能好、指标多，调用方式简单：`talib.SMA`, `talib.RSI` 等
    - 避免你一开始就自己写各种滑动窗口逻辑，先能跑出策略再说
  - **在学习路线中的位置**：  
    - “技术分析/策略构建”阶段的主力工具  
    - 先用现成指标快速实现规则，再逐步过渡到自定义因子/信号
  - **备注**：
    - 安装前需要系统层面先装 TA-Lib C 库，说明里已经备注了这一点

---

## 回测框架（后续阶段，暂时注释）

- **`backtrader` / `vectorbt`**（目前在 [requirements.txt](cci:7://file:///c:/develop/learnspace/crypto-quant/requirements.txt:0:0-0:0) 中是注释）
  - **用途**：
    - `backtrader`：经典回测框架，事件驱动风格，适合学习和中小策略
    - `vectorbt`：基于 `numpy/pandas` 的向量化回测/因子分析框架，速度快，和 Notebook 配合好
  - **为什么先注释**：
    - 路线图是“由浅入深”，一开始先学数据处理、简单策略逻辑和可视化
    - 回测框架本身学习成本不低，等你熟悉基础后再启用，更容易消化
  - **在学习路线中的位置**：  
    - 属于中后期“系统化回测与评估”的阶段  
    - 对应路线图里“搭建回测框架、评估策略表现”的章节

---

## 数据获取（可选，暂时注释）

- **`yfinance`**
  - **用途**：从 Yahoo Finance 获取股票/指数/基金等历史数据
  - **意义**：
    - 如果你做多市场（不仅是币圈），这是获取免费历史数据的便捷方式
    - 也可以在没接交易所 API 时，用它来练手策略逻辑

- **`python-binance`**
  - **用途**：Binance 官方/半官方风格的 API SDK
  - **意义**：
    - 当你想更深入使用某一家交易所（这里是币安）的全部功能时，会比 `ccxt` 更细致
  - **为什么暂时注释**：
    - 初期先用 `ccxt` 统一接口思路，等对 Binance 有特别需求时再启用

---

## 机器学习（后续进阶，暂时注释）

- **`scikit-learn`**
  - **用途**：传统机器学习库（回归、分类、聚类、降维、模型评估等）
  - **在量化中的典型用法**：
    - 预测收益/波动、聚类股票、构建打分模型、风险模型等

- **`xgboost`**
  - **用途**：性能强、效果好的梯度提升树库
  - **在量化中的典型用法**：
    - 做“因子模型 + 分类/回归”，比如预测次日上涨概率、收益排序等
  - **为什么暂时注释**：
    - 这是路线图后半段“机器学习/智能选股/因子模型”的内容  
    - 目前优先打好统计和规则策略基础，防止还没理解“规则型策略”就直接上黑箱模型

---

## 小结：和学习路线图的对应关系

结合你的 `docs/roadmap/学习路线图.md` 可以大致对应为：

- **第一阶段：基础数据与可视化**
  - 用 `numpy + pandas + matplotlib + seaborn + jupyter/ipython`
- **第二阶段：接入真实市场**
  - 用 `ccxt` 拉取真实交易所数据，做简单策略和信号
- **第三阶段：技术指标 & 回测**
  - 用 `ta-lib` 做指标信号  
  - 逐步启用 `backtrader` / `vectorbt` 做系统化回测
- **第四阶段：扩展数据源 & 机器学习**
  - 需要时打开 `yfinance` / `python-binance`  
  - 进阶时启用 `scikit-learn` / `xgboost` 做机器学习策略

---

如果你愿意，我可以下一步帮你在 `docs/roadmap/学习路线图.md` 里加一小节“环境依赖解释”，用表格形式把「阶段 → 使用的库 → 典型任务」整理进去。