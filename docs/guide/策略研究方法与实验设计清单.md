# 策略研究方法与实验设计清单

---

## 一、使用说明

- **目标**：
  - 给策略研究和实验设计提供一套可打勾的 SOP；
  - 避免“凭感觉乱试”和“调参把曲线调到完美但完全不可用”。
- **使用方式**：
  - 从上到下按阶段执行：Idea → 假设 → 数据 → 实验设计 → 评估 → 稳健性 → 上线决策；
  - 每完成一条，就在文档中补充你的例子和结论；
  - 让每个策略都有一份对应的“研究记录”（可以单独开 md，引用这份清单）。

---

## 二、策略 Idea 与目标定义

### 2.1 策略 Idea 来源【必】

- [ ] 我能用一句话描述这个策略的核心想法：
  - 例：利用“急跌后短期反弹”的均值回归特征；
  - 例：利用资金费率极端时的反向机会。
- [ ] 我能说明 Idea 来源：
  - [ ] 历史图表直观观察；
  - [ ] 别人的公开策略 / 论文 / 推文；
  - [ ] 自己之前交易体验；
  - [ ] 其他：___________。

### 2.2 策略目标与约束【必】

- [ ] 明确策略主要目标：
  - [ ] 提高收益；
  - [ ] 降低回撤；
  - [ ] 平滑资金曲线；
  - [ ] 对冲某种风险；
  - [ ] 其他：___________。
- [ ] 明确预期使用场景：
  - [ ] 单独跑；
  - [ ] 放在多策略组合中；
  - [ ] 只在特定行情 Regime 下启用。
- [ ] 明确约束条件：
  - 可接受最大回撤 ≈ ____%；
  - 资金规模预期 ≈ ____ USDT；
  - 允许交易频率（如：日内 ≤ N 笔 / 日）。

---

## 三、交易假设与逻辑写法

### 3.1 交易假设模板【必】

> 建议用自然语言 + 简单公式写清楚：

- [ ] **市场行为假设**：
  - 例：在急跌后的一段时间内，价格有较高概率向均值反弹；
  - 例：当资金费率长期极端正值时，后续大跌概率上升。
- [ ] **可观测信号 / 因子**：
  - 我用哪些量来刻画这个行为？
  - 如：过去 N 天跌幅、资金费率水平、波动率、成交量放大倍数等。
- [ ] **触发条件**：
  - 满足什么条件才开仓？
  - 如：“N 日跌幅 < -X%，且资金费率 > Y”。
- [ ] **退出 / 平仓逻辑**：
  - 价格回到某均值 / 触及止损 / 达到时间限制等。

### 3.2 反例与失效场景【必】

- [ ] 我能列出 2–3 个假设可能失效的场景：
  - 极端单边熊市 / 牛市；
  - 项目方暴雷、交易所问题；
  - 流动性断崖式下降等。
- [ ] 对每个场景，我有：
  - [ ] 是否直接禁用策略的规则；
  - [ ] 是否降低仓位 / 限制交易的规则。

---

## 四、数据准备与样本划分

### 4.1 数据来源与质量【必】

- [ ] 明确数据来源：
  - 交易所 API / 历史 K 线文件 / 第三方数据供应商等；
- [ ] 数据频率：
  - [ ] 日线；[ ] 4H；[ ] 1H；[ ] 分钟 / Tick；
- [ ] 做过哪些基础检查：
  - [ ] 缺失值 / 零成交的处理；
  - [ ] 价格异常峰值 / 插针处理；
  - [ ] 时区统一；
  - [ ] 前复权 / 合约换月处理（如果用合约历史）。

### 4.2 样本内 / 样本外划分【必】

- [ ] 选择一个相对完整的市场周期：
  - 包含上涨、下跌、震荡等阶段；
- [ ] 清晰划分：
  - 样本内（用来设计和调参）：起止时间：________；
  - 样本外（用来检验）：起止时间：________；
- [ ] 记录划分理由：
  - 如：按时间顺序，或按牛/熊/震荡阶段划分等。

### 4.3 多标的与多周期设计【进阶】

- [ ] 是否只在单一标的回测？
  - 如果是，是否考虑在 BTC、ETH、至少一只小币上做对比？
- [ ] 是否在多个时间周期（1H / 4H / 日线）做简单对比？

---

## 五、回测与实验设计

### 5.1 回测框架与粒度【必】

- [ ] 使用的回测框架 / 工具：
  - 如：自写框架 / backtrader / vectorbt / 交易所回测接口等；
- [ ] 回测粒度：
  - 信号频率（如：每根 K 线 / 每小时）、
  - 下单频率（可能低于信号频率）。

### 5.2 成本与现实约束建模【必】

- [ ] 已在回测中加入：
  - [ ] 手续费；
  - [ ] 简单滑点（如按点差的一部分估算）；
  - [ ] 限价单成交失败 / 部分成交的处理规则；
  - [ ] 杠杆与保证金要求（如有）。

### 5.3 止损 / 止盈与风控规则【必】

- [ ] 是否有明确的：
  - [ ] 单笔止损规则；
  - [ ] 单笔止盈 / 移动止盈规则；
  - [ ] 策略层面最大回撤限制；
- [ ] 这些规则是否体现在回测逻辑中，而不是只写在想象里？

---

## 六、评估指标与结果分析

### 6.1 基本绩效指标【必】

- [ ] 对每个回测结果，至少计算并记录：
  - [ ] 年化收益；
  - [ ] 年化波动率；
  - [ ] 夏普比；
  - [ ] 最大回撤及持续时间；
  - [ ] 交易次数、胜率、盈亏比（平均盈利 / 平均亏损）。

### 6.2 行为分析而非只看一个数字【必】

- [ ] 我看过并理解：
  - [ ] 资金曲线整体形态（平滑 vs 爆拉爆杀）；
  - [ ] 按时间分段的表现（不同年份 / 不同市场阶段）；
  - [ ] 按标的分组的表现（如 BTC vs 小币）。
- [ ] 我能用文字回答：
  - 这个策略典型在什么时候赚钱？
  - 在什么时候持续亏钱？
  - 有没有“卖保险型”特征：小赚 + 偶尔巨亏？

---

## 七、稳健性（鲁棒性）测试

### 7.1 参数敏感性【必】

- [ ] 对关键参数（如均线周期、阈值）做过：
  - [ ] 上下浮动一定比例的测试；
  - [ ] 网格搜索 / 若干组合对比；
- [ ] 观察结果：
  - 是否在一个区间内表现都还可以，而不是只有一个点特别好？

### 7.2 子样本与 Regime 测试【必】

- [ ] 将回测区间切成多个子样本：
  - 牛市 / 熊市 / 震荡市；
  - 不同年份 / 不同季度；
- [ ] 观察：
  - 策略在各子样本中的表现是否稳定？
  - 在某些阶段是否明显失效？

### 7.3 其他稳健性检查【进阶】

- [ ] 加入随机噪声（如价格 ± 小幅扰动）后，结果是否完全失真？
- [ ] 使用略差的数据质量 / 更高的滑点假设时，策略是否还能活得下去？

---

## 八、实验记录与版本管理

### 8.1 实验编号与记录【必】

- [ ] 每次重要实验有：
  - 唯一编号（如：EXP-2025-11-18-01）；
  - 对应的参数配置快照；
  - 对应的结果摘要（核心指标 + 一段文字结论）。

### 8.2 变更日志【必】

- [ ] 对每次策略逻辑 / 参数的重大修改：
  - 记录：修改内容、修改原因、日期；
  - 保留旧版本的结果，以便对比“是否真的改好”。

### 8.3 文档化【进阶】

- [ ] 为每个候选策略建立一份 `策略研究记录-xxx.md`：
  - 引用本清单的各个部分；
  - 把每一步的结论、图表链接记录进去。

---

## 九、上线决策与后续跟踪

### 9.1 上线前检查清单【必】

- [ ] 已经完成：
  - [ ] 样本内 + 样本外回测；
  - [ ] 基本稳健性测试；
  - [ ] 成本和风险建模（含滑点）；
- [ ] 资金分配决策：
  - 初始资金占总资金的 ____%；
  - 是否先用小资金 / 模拟盘验证？

### 9.2 上线后的监控指标【必】

- [ ] 定期检查：
  - 实盘表现 vs 回测预期的偏离度；
  - 最大回撤是否接近或超过历史回测水平；
  - 交易次数、胜率、盈亏比是否发生结构性变化。

### 9.3 策略“生命管理”【进阶】

- [ ] 预先设定：
  - 触发哪些条件时要减仓？
  - 触发哪些条件时要暂停策略？
  - 如何判定策略“结构性失效”？

---

## 十、推荐学习与实践顺序

1. **先熟悉本清单的结构**，大概知道每一块在做什么；  
2. **选一个最简单的策略 Idea**（如均线趋势、简单布林带均值回归），严格按本清单走一遍；  
3. 在每一步，用 GPT 帮你补：
   - 概念解释；
   - 样例代码；
   - 结果分析的辅助问题；
4. 把第一个策略完整做完之后，再开始第二个策略，逐步缩短“研究周期”，形成自己的节奏感。

---

> 建议：后续你可以把这份清单中的每个小节，拆成一个个可勾选的任务，
> 结合 `docs/roadmap/学习路线图-GPT加持版.md`，形成“策略研究项目”的标准模板。
